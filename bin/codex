#!/usr/bin/env bun
// vim: filetype=javascript

import * as fs from 'node:fs/promises';

const language = process.argv[2] ?? '';

const codexLocation = `/home/tony/.config/nvim/codex/${language}/`;

fs.readdir(codexLocation, { withFileTypes: true, recursive: true }).
  then(res => res.filter(i => i.isFile())).
  then(res => res.map(i => i.name)).
  then(res => res.map(i => i.replace(codexLocation, ""))).
  then((allFiles) => {
    console.log(allFiles);
  });

